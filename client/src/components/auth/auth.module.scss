// auth.module.scss - Modernes Styling für Authentifizierungsformulare

// Farbvariablen für einfache Anpassungen
$primary-color: #4361ee;
$primary-hover: #3a56d4;
$success-color: #2ecc71;
$error-color: #e74c3c;
$background-light: #ffffff;
$text-dark: #333333;
$text-light: #666666;
$border-light: #e1e5eb;
$input-bg: #f7f9fc;
$shadow-color: rgba(0, 0, 0, 0.08);

.authWrapper {
    max-width: 700px;
    margin: 3rem auto;
    padding: 2.5rem;
    background: $background-light;
    border-radius: 1.25rem;
    box-shadow: 0 12px 30px $shadow-color;
    font-family: 'Inter', system-ui, sans-serif;
    position: relative;
    overflow: hidden;

    // Subtile Hintergrundgrafik
    &::before {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        width: 120px;
        height: 120px;
        background: radial-gradient(circle at top right, rgba(67, 97, 238, 0.08), transparent 70%);
        border-radius: 0 0 0 100%;
        z-index: 0;
    }
}

.authForm {
    display: flex;
    flex-direction: column;
    gap: 1.75rem;
    color: $text-dark;
    position: relative;
    z-index: 1;

    .formTitle {
        text-align: center;
        font-size: 1.875rem;
        font-weight: 700;
        color: #1a1a1a;
        margin-bottom: 0.5rem;

        // Dekorativer Unterstrich
        &::after {
            content: '';
            display: block;
            width: 50px;
            height: 3px;
            background: linear-gradient(to right, $primary-color, lighten($primary-color, 15%));
            margin: 0.75rem auto 0;
            border-radius: 3px;
        }
    }

    .formSubtitle {
        text-align: center;
        color: $text-light;
        font-size: 1rem;
        margin-top: -1rem;
        margin-bottom: 0.5rem;
    }

    .formGroup {
        display: flex;
        flex-direction: column;
        width: 500px;

        label {
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: $text-dark;
            font-size: 0.95rem;
            display: flex;
            align-items: center;

            // Optionales Icon vor dem Label
            svg {
                margin-right: 0.375rem;
            }
        }

        input {
            padding: 0.875rem 1rem;
            border: 1.5px solid $border-light;
            border-radius: 0.875rem;
            font-size: 1rem;
            background: $input-bg;
            transition: all 0.25s ease;
            color: $text-dark;
            width: 100%;

            &::placeholder {
                color: #aab0bc;
            }

            &:focus {
                outline: none;
                border-color: $primary-color;
                box-shadow: 0 0 0 3px rgba($primary-color, 0.15);
                background: $background-light;
            }

            &:hover:not(:focus) {
                border-color: darken($border-light, 10%);
                background: darken($input-bg, 1%);
            }
        }

        // Animation für Validierungszustand
        &.validated input {
            border-color: $success-color;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='none' d='M0 0h24v24H0z'/%3E%3Cpath d='M10 15.172l9.192-9.193 1.415 1.414L10 18l-6.364-6.364 1.414-1.414z' fill='%232ecc71'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 18px;
            padding-right: 40px;
        }

        &.error input {
            border-color: $error-color;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='none' d='M0 0h24v24H0z'/%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-1-5h2v2h-2v-2zm0-8h2v6h-2V7z' fill='%23e74c3c'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 18px;
            padding-right: 40px;
        }
    }

    // Validierungsnachrichten
    .inputFeedback {
        font-size: 0.8125rem;
        margin-top: 0.375rem;
        display: flex;
        align-items: center;

        &.error {
            color: $error-color;
        }

        &.success {
            color: $success-color;
        }
    }

    .submitButton {
        padding: 0.875rem;
        background: $primary-color;
        color: white;
        border: none;
        border-radius: 0.875rem;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s ease;
        margin-top: 0.5rem;
        position: relative;
        overflow: hidden;

        // Schicken Hover-Effekt hinzufügen
        &:hover {
            background: $primary-hover;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba($primary-color, 0.3);
        }

        &:active {
            transform: translateY(0);
            box-shadow: 0 2px 6px rgba($primary-color, 0.3);
        }

        &:disabled {
            background: #c4c9d3;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        // Loading-Zustand
        &.loading {
            padding-left: 2.5rem;

            &::before {
                content: '';
                position: absolute;
                left: 1rem;
                top: 50%;
                transform: translateY(-50%);
                width: 1rem;
                height: 1rem;
                border: 2px solid rgba(255, 255, 255, 0.3);
                border-top-color: white;
                border-radius: 50%;
                animation: spin 0.8s linear infinite;
            }
        }
    }
}

// Fehlermeldungen und Erfolgsmeldungen
.error {
    color: $error-color;
    font-size: 0.9rem;
    padding: 0.75rem;
    background-color: rgba($error-color, 0.08);
    border-radius: 0.5rem;
    margin: 0.5rem 0;
    display: flex;
    align-items: center;

    &::before {
        content: '!';
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 18px;
        height: 18px;
        background: $error-color;
        color: white;
        border-radius: 50%;
        margin-right: 0.5rem;
        font-weight: bold;
        font-size: 0.8rem;
    }
}

.success {
    color: $success-color;
    font-size: 0.9rem;
    padding: 0.75rem;
    background-color: rgba($success-color, 0.08);
    border-radius: 0.5rem;
    margin: 0.5rem 0;
    display: flex;
    align-items: center;

    &::before {
        content: '✓';
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 18px;
        height: 18px;
        background: $success-color;
        color: white;
        border-radius: 50%;
        margin-right: 0.5rem;
        font-weight: bold;
        font-size: 0.8rem;
    }
}

.formFooter {
    margin-top: 1.5rem;
    text-align: center;
    color: $text-light;
    font-size: 0.95rem;

    a,
    .switchButton {
        color: $primary-color;
        font-weight: 500;
        text-decoration: none;
        transition: all 0.2s;
        display: inline-block;
        margin-left: 0.25rem;

        &:hover {
            color: $primary-hover;
            text-decoration: underline;
        }
    }
}

.switchButton {
    background: none;
    border: none;
    cursor: pointer;
    padding: 0.25rem 0.5rem;
    margin: 0;
    font-family: inherit;
    font-size: inherit;
}

// Soziale Login-Buttons 
.socialLogin {
    display: flex;
    flex-direction: column;
    gap: 0.875rem;
    margin-top: 1rem;

    .socialButton {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0.875rem;
        border-radius: 0.875rem;
        font-size: 0.95rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s;
        background: $input-bg;
        border: 1.5px solid $border-light;
        color: $text-dark;

        svg,
        img {
            margin-right: 0.75rem;
            width: 1.25rem;
            height: 1.25rem;
        }

        &:hover {
            background: darken($input-bg, 2%);
            border-color: darken($border-light, 10%);
            transform: translateY(-1px);
        }

        &:active {
            transform: translateY(0);
        }
    }
}

// Trennlinie mit Text
.divider {
    display: flex;
    align-items: center;
    margin: 1.5rem 0;
    color: $text-light;
    font-size: 0.9rem;

    &::before,
    &::after {
        content: '';
        flex: 1;
        height: 1px;
        background: $border-light;
    }

    &::before {
        margin-right: 1rem;
    }

    &::after {
        margin-left: 1rem;
    }
}

// Passwort-Stärke-Anzeige
.passwordStrength {
    margin-top: 0.5rem;

    .strengthBar {
        height: 4px;
        background: #edf2f7;
        border-radius: 2px;
        margin-top: 0.25rem;
        overflow: hidden;

        .strengthFill {
            height: 100%;
            border-radius: 2px;
            transition: width 0.3s ease;

            &.weak {
                width: 25%;
                background: $error-color;
            }

            &.medium {
                width: 50%;
                background: #f39c12;
            }

            &.strong {
                width: 75%;
                background: #3498db;
            }

            &.veryStrong {
                width: 100%;
                background: $success-color;
            }
        }
    }

    .strengthText {
        font-size: 0.75rem;
        margin-top: 0.25rem;

        &.weak {
            color: $error-color;
        }

        &.medium {
            color: #f39c12;
        }

        &.strong {
            color: #3498db;
        }

        &.veryStrong {
            color: $success-color;
        }
    }
}

// Passwort-Anforderungen
.passwordRequirements {
    margin-top: 0.5rem;
    font-size: 0.75rem;
    color: $text-light;

    small {
        display: block;
        margin-bottom: 0.25rem;
    }

    ul {
        list-style: none;
        padding-left: 0.5rem;
        margin: 0;

        li {
            position: relative;
            padding-left: 1.25rem;
            margin-bottom: 0.25rem;

            &::before {
                content: '○';
                position: absolute;
                left: 0;
                color: $text-light;
            }

            &.fulfilled {
                color: $success-color;

                &::before {
                    content: '✓';
                    color: $success-color;
                }
            }
        }
    }
}

// Animation für Ladevorgang
@keyframes spin {
    0% {
        transform: translateY(-50%) rotate(0deg);
    }

    100% {
        transform: translateY(-50%) rotate(360deg);
    }
}

// Responsive Design
@media (max-width: 480px) {
    .authWrapper {
        margin: 1.5rem auto;
        padding: 1.75rem;
        max-width: 100%;
        border-radius: 1rem;
    }

    .authForm {
        gap: 1.25rem;

        .formTitle {
            font-size: 1.5rem;
        }

        .formGroup input {
            padding: 0.75rem 0.875rem;
        }

        .submitButton {
            padding: 0.75rem;
        }
    }
}